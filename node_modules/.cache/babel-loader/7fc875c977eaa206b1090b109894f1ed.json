{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react'; //récupère les données d'une API\n\nexport function useFetch(url) {\n  _s();\n\n  const [data, setData] = useState({}); //données API\n\n  const [isLoading, setLoading] = useState(true); //indique si les données sont en train de se charger\n\n  const [error, setError] = useState(false); //erreurs API\n\n  useEffect(() => {\n    if (!url) return;\n    setLoading(true); //affiche le loader\n\n    fetch(url).then(response => response.json() //convertit la réponse en données JSON\n    .then(_ref => {\n      let {\n        data\n      } = _ref;\n      //traite les données reçues\n      setData(data);\n    }).catch(error => {\n      //attrape les erreurs lors de l’appel de l’API s'il y en a\n      console.log(error);\n      setError(error);\n    }));\n    setTimeout(() => {\n      setLoading(false);\n    }, 500); //enlève le loader. setTimeout sert juste à confirmer l'affichage du loader en cas de délai de chargement des données\n  }, [url]); //déclenche l'appel de useEffect si l'url change\n\n  return {\n    isLoading,\n    data\n  };\n} // faire un autre useFetch mais avec await\n\n_s(useFetch, \"I3PlMlwpe/K4XMhtkGOVndNNG2k=\");","map":{"version":3,"sources":["C:/wamp64/www/shiny-agency/src/utils/hooks/hooks.jsx"],"names":["useState","useEffect","useFetch","url","data","setData","isLoading","setLoading","error","setError","fetch","then","response","json","catch","console","log","setTimeout"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC,C,CAEA;;AACA,OAAO,SAASC,QAAT,CAAkBC,GAAlB,EAAuB;AAAA;;AAC1B,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,CAAC,EAAD,CAAhC,CAD0B,CACU;;AACpC,QAAM,CAACM,SAAD,EAAYC,UAAZ,IAA0BP,QAAQ,CAAC,IAAD,CAAxC,CAF0B,CAEoB;;AAC9C,QAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,KAAD,CAAlC,CAH0B,CAGe;;AAEzCC,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAI,CAACE,GAAL,EAAU;AAEVI,IAAAA,UAAU,CAAC,IAAD,CAAV,CAHY,CAGI;;AAEhBG,IAAAA,KAAK,CAACP,GAAD,CAAL,CACKQ,IADL,CACWC,QAAD,IAAcA,QAAQ,CAACC,IAAT,GAAe;AAAf,KACnBF,IADmB,CACd,QAAc;AAAA,UAAb;AAAEP,QAAAA;AAAF,OAAa;AAAC;AACjBC,MAAAA,OAAO,CAACD,IAAD,CAAP;AACH,KAHmB,EAInBU,KAJmB,CAIZN,KAAD,IAAW;AAAC;AACfO,MAAAA,OAAO,CAACC,GAAR,CAAYR,KAAZ;AACAC,MAAAA,QAAQ,CAACD,KAAD,CAAR;AACH,KAPmB,CADxB;AAWAS,IAAAA,UAAU,CAAC,MAAM;AAACV,MAAAA,UAAU,CAAC,KAAD,CAAV;AAAkB,KAA1B,EAA4B,GAA5B,CAAV,CAhBY,CAgB8B;AAC7C,GAjBQ,EAiBN,CAACJ,GAAD,CAjBM,CAAT,CAL0B,CAsBjB;;AAET,SAAO;AAACG,IAAAA,SAAD;AAAYF,IAAAA;AAAZ,GAAP;AACH,C,CAGD;;GA5BgBF,Q","sourcesContent":["import { useState, useEffect } from 'react'\n\n//récupère les données d'une API\nexport function useFetch(url) {\n    const [data, setData] = useState({})//données API\n    const [isLoading, setLoading] = useState(true)//indique si les données sont en train de se charger\n    const [error, setError] = useState(false)//erreurs API\n\n    useEffect(() => {\n        if (!url) return\n        \n        setLoading(true)//affiche le loader\n        \n        fetch(url)\n            .then((response) => response.json()//convertit la réponse en données JSON\n            .then(({ data }) => {//traite les données reçues\n                setData(data)\n            })\n            .catch((error) => {//attrape les erreurs lors de l’appel de l’API s'il y en a\n                console.log(error)\n                setError(error)\n            })\n        )\n\n        setTimeout(() => {setLoading(false)}, 500)//enlève le loader. setTimeout sert juste à confirmer l'affichage du loader en cas de délai de chargement des données\n    }, [url])//déclenche l'appel de useEffect si l'url change\n\n    return {isLoading, data}\n}\n\n\n// faire un autre useFetch mais avec await"]},"metadata":{},"sourceType":"module"}