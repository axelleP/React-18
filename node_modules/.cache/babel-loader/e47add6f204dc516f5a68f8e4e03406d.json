{"ast":null,"code":"var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { useState, useEffect } from 'react'; //récupère les données d'une API\n\nexport function useFetch(url, dataName) {\n  _s();\n\n  const dataName2 = dataName;\n  const [data, setData] = useState({}); //données API\n\n  const [isLoading, setLoading] = useState(true); //indique si les données sont en train de se charger\n\n  const [error, setError] = useState(false); //erreurs API\n\n  console.log(dataName2);\n  useEffect(() => {\n    if (!url) return;\n    setLoading(true); //affiche le loader\n\n    fetch(url).then(response => response.json()) //convertit la réponse en données JSON\n    .then(_ref => {\n      let {\n        dataName2\n      } = _ref;\n      //traite les données reçues. Attention ! il faut mettre le même nom de la var récupérée dans l'API\n      setData({\n        dataName2\n      });\n    }).catch(error => {\n      //attrape les erreurs lors de l’appel de l’API s'il y en a\n      console.log(error);\n      setError(true);\n    });\n    setTimeout(() => {\n      setLoading(false);\n    }, 500); //enlève le loader. setTimeout sert juste à confirmer l'affichage du loader en cas de délai de chargement des données\n  }, [url]); //déclenche l'appel de useEffect si l'url change\n\n  return {\n    isLoading,\n    data,\n    error\n  };\n} //Exemple n°2 récupère les données d'une API \n\n_s(useFetch, \"I3PlMlwpe/K4XMhtkGOVndNNG2k=\");\n\nexport function useFetch2(url) {\n  _s2();\n\n  const [data, setData] = useState({}); //données API\n\n  const [isLoading, setLoading] = useState(true); //indique si les données sont en train de se charger\n\n  const [error, setError] = useState(false); //erreurs API\n\n  useEffect(() => {\n    if (!url) return;\n    setLoading(true); //affiche le loader\n    //déclaration de la fonction fetchData\n\n    async function fetchData() {\n      try {\n        const response = await fetch(url);\n        const data = await response.json();\n        setData(data);\n      } catch (err) {\n        console.log(err);\n        setError(true);\n      } finally {\n        //traitement après l'appel\n        setLoading(false);\n      }\n    } //appel de la fonction fetchData\n\n\n    fetchData();\n  }, [url]); //déclenche l'appel de useEffect si l'url change\n\n  return {\n    isLoading,\n    data,\n    error\n  };\n}\n\n_s2(useFetch2, \"I3PlMlwpe/K4XMhtkGOVndNNG2k=\");","map":{"version":3,"sources":["C:/wamp64/www/shiny-agency/src/utils/hooks/hooks.jsx"],"names":["useState","useEffect","useFetch","url","dataName","dataName2","data","setData","isLoading","setLoading","error","setError","console","log","fetch","then","response","json","catch","setTimeout","useFetch2","fetchData","err"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC,C,CAEA;;AACA,OAAO,SAASC,QAAT,CAAkBC,GAAlB,EAAuBC,QAAvB,EAAiC;AAAA;;AACpC,QAAMC,SAAS,GAAGD,QAAlB;AACA,QAAM,CAACE,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,EAAD,CAAhC,CAFoC,CAEA;;AACpC,QAAM,CAACQ,SAAD,EAAYC,UAAZ,IAA0BT,QAAQ,CAAC,IAAD,CAAxC,CAHoC,CAGU;;AAC9C,QAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,KAAD,CAAlC,CAJoC,CAIK;;AAE7CY,EAAAA,OAAO,CAACC,GAAR,CAAYR,SAAZ;AAEIJ,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAI,CAACE,GAAL,EAAU;AAEVM,IAAAA,UAAU,CAAC,IAAD,CAAV,CAHY,CAGI;;AAEhBK,IAAAA,KAAK,CAACX,GAAD,CAAL,CACKY,IADL,CACWC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EADxB,EACwC;AADxC,KAEKF,IAFL,CAEU,QAAmB;AAAA,UAAlB;AAAEV,QAAAA;AAAF,OAAkB;AAAC;AACtBE,MAAAA,OAAO,CAAC;AAAEF,QAAAA;AAAF,OAAD,CAAP;AACH,KAJL,EAKKa,KALL,CAKYR,KAAD,IAAW;AAAC;AACfE,MAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACAC,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACH,KARL;AAWAQ,IAAAA,UAAU,CAAC,MAAM;AAACV,MAAAA,UAAU,CAAC,KAAD,CAAV;AAAkB,KAA1B,EAA4B,GAA5B,CAAV,CAhBY,CAgB8B;AAC7C,GAjBQ,EAiBN,CAACN,GAAD,CAjBM,CAAT,CARoC,CAyB3B;;AAET,SAAO;AAACK,IAAAA,SAAD;AAAYF,IAAAA,IAAZ;AAAkBI,IAAAA;AAAlB,GAAP;AACH,C,CAED;;GA9BgBR,Q;;AA+BhB,OAAO,SAASkB,SAAT,CAAmBjB,GAAnB,EAAwB;AAAA;;AAC3B,QAAM,CAACG,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,EAAD,CAAhC,CAD2B,CACS;;AACpC,QAAM,CAACQ,SAAD,EAAYC,UAAZ,IAA0BT,QAAQ,CAAC,IAAD,CAAxC,CAF2B,CAEmB;;AAC9C,QAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,KAAD,CAAlC,CAH2B,CAGc;;AAEzCC,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAI,CAACE,GAAL,EAAU;AAEVM,IAAAA,UAAU,CAAC,IAAD,CAAV,CAHY,CAGI;AAEhB;;AACA,mBAAeY,SAAf,GAA2B;AACvB,UAAI;AACA,cAAML,QAAQ,GAAG,MAAMF,KAAK,CAACX,GAAD,CAA5B;AACA,cAAMG,IAAI,GAAG,MAAMU,QAAQ,CAACC,IAAT,EAAnB;AACAV,QAAAA,OAAO,CAACD,IAAD,CAAP;AACH,OAJD,CAIE,OAAOgB,GAAP,EAAY;AACVV,QAAAA,OAAO,CAACC,GAAR,CAAYS,GAAZ;AACAX,QAAAA,QAAQ,CAAC,IAAD,CAAR;AACH,OAPD,SAOU;AAAC;AACPF,QAAAA,UAAU,CAAC,KAAD,CAAV;AACH;AACJ,KAjBW,CAmBZ;;;AACAY,IAAAA,SAAS;AACZ,GArBQ,EAqBN,CAAClB,GAAD,CArBM,CAAT,CAL2B,CA0BlB;;AAET,SAAO;AAAEK,IAAAA,SAAF;AAAaF,IAAAA,IAAb;AAAmBI,IAAAA;AAAnB,GAAP;AACH;;IA7BeU,S","sourcesContent":["import { useState, useEffect } from 'react'\n\n//récupère les données d'une API\nexport function useFetch(url, dataName) {\n    const dataName2 = dataName\n    const [data, setData] = useState({})//données API\n    const [isLoading, setLoading] = useState(true)//indique si les données sont en train de se charger\n    const [error, setError] = useState(false)//erreurs API\n\nconsole.log(dataName2)\n\n    useEffect(() => {\n        if (!url) return\n        \n        setLoading(true)//affiche le loader\n        \n        fetch(url)\n            .then((response) => response.json())//convertit la réponse en données JSON\n            .then(({ dataName2 }) => {//traite les données reçues. Attention ! il faut mettre le même nom de la var récupérée dans l'API\n                setData({ dataName2 })\n            })\n            .catch((error) => {//attrape les erreurs lors de l’appel de l’API s'il y en a\n                console.log(error)\n                setError(true)\n            })\n        \n\n        setTimeout(() => {setLoading(false)}, 500)//enlève le loader. setTimeout sert juste à confirmer l'affichage du loader en cas de délai de chargement des données\n    }, [url])//déclenche l'appel de useEffect si l'url change\n\n    return {isLoading, data, error}\n}\n\n//Exemple n°2 récupère les données d'une API \nexport function useFetch2(url) {\n    const [data, setData] = useState({})//données API\n    const [isLoading, setLoading] = useState(true)//indique si les données sont en train de se charger\n    const [error, setError] = useState(false)//erreurs API\n\n    useEffect(() => {\n        if (!url) return\n        \n        setLoading(true)//affiche le loader\n     \n        //déclaration de la fonction fetchData\n        async function fetchData() {\n            try {\n                const response = await fetch(url)\n                const data = await response.json()\n                setData(data)\n            } catch (err) {\n                console.log(err)\n                setError(true)\n            } finally {//traitement après l'appel\n                setLoading(false)\n            }\n        }\n      \n        //appel de la fonction fetchData\n        fetchData()\n    }, [url])//déclenche l'appel de useEffect si l'url change\n    \n    return { isLoading, data, error }\n}"]},"metadata":{},"sourceType":"module"}